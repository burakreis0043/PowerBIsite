<!DOCTYPE html>
<html lang="tr">

<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
  <title>Power BI Dashboard - SB Admin 2</title>

  <!-- SB Admin 2 CSS -->
  <link href="vendor/fontawesome-free/css/all.min.css" rel="stylesheet" type="text/css" />
  <link href="css/sb-admin-2.min.css" rel="stylesheet" />
</head>

<body id="page-top">
  <!-- Page Wrapper -->
  <div id="wrapper">
    <!-- Sidebar -->
    <ul class="navbar-nav bg-gradient-primary sidebar sidebar-dark accordion" id="accordionSidebar">
      <a class="sidebar-brand d-flex align-items-center justify-content-center" href="#">
        <div class="sidebar-brand-icon rotate-n-15">
          <i class="fas fa-chart-bar"></i>
        </div>
        <div class="sidebar-brand-text mx-3">Power BI</div>
      </a>
    </ul>
    <!-- End of Sidebar -->

    <!-- Content Wrapper -->
    <div id="content-wrapper" class="d-flex flex-column">
      <div id="content">
        <!-- Topbar -->
        <nav class="navbar navbar-expand navbar-light bg-white topbar mb-4 static-top shadow">
          <h1 class="h3 text-gray-800 m-0">Satış Raporu</h1>
        </nav>

        <!-- Begin Page Content -->
        <div class="container-fluid">
          <!-- Power BI Report Card -->
          <div class="card shadow mb-4">
            <div class="card-header py-3">
              <h6 class="m-0 font-weight-bold text-primary">Power BI Satış Grafikleri</h6>
            </div>
            <div class="card-body">
              <iframe title="Satış Grafikleri" width="100%" height="600px"
                src="https://app.powerbi.com/reportEmbed?reportId=5771387a-715e-462c-a174-1ffe014f6c60&autoAuth=true&ctid=7ad4e186-d9e7-4fd6-b73c-e305f63dd0d2"
                frameborder="0" allowFullScreen="true"></iframe>
<div class="card shadow mb-4">
  <div class="card-header py-3">
    <h6 class="m-0 font-weight-bold text-success">Yeni Satış Girişi</h6>
  </div>
  <div class="card-body">
    <form id="dataForm">
      <div class="form-group">
        <label>Ürün Adı</label>
        <input type="text" class="form-control" name="urun" required>
      </div>
      <div class="form-group">
        <label>Satış Fiyatı</label>
        <input type="number" class="form-control" name="fiyat" required>
      </div>
      <div class="form-group">
        <label>Tarih</label>
        <input type="date" class="form-control" name="tarih" required>
      </div>
      <button type="submit" class="btn btn-primary">Gönder</button>
    </form>
  </div>
</div>

<script>
  document.getElementById("dataForm").addEventListener("submit", function (e) {
  e.preventDefault();
  
  const urun = this.urun.value;
  const fiyat = this.fiyat.value;
  const tarih = this.tarih.value;

  fetch("https://script.google.com/macros/s/AKfycbzD6t1U1j40GthDaz6wf0ELXGYENwR-oB8gHDSJ8BJaOF2WWpWXw_clYfJmybcaJxxh5g/exec", {
  method: "POST",
  body: JSON.stringify({urun: urun, fiyat: fiyat, tarih: tarih}),
  headers: {
    "Content-Type": "application/json"
  }
})

  .then(response => response.json())
  .then(data => {
    alert("Veri başarıyla gönderildi!");
    this.reset();  // Formu temizler
  })
  .catch(error => {
    alert("Veri gönderilirken hata oluştu.");
    console.error(error);
  });
});

</script>

            </div>
          </div>
        </div>
        <!-- /.container-fluid -->
      </div>
      <!-- End of Main Content -->
    </div>
    <!-- End of Content Wrapper -->
  </div>
  <!-- End of Page Wrapper -->

  <!-- Scripts -->
  <script src="vendor/jquery/jquery.min.js"></script>
  <script src="vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
  <script src="vendor/jquery-easing/jquery.easing.min.js"></script>
  <script src="js/sb-admin-2.min.js"></script>
</body>

</html>

